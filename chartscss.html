<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/charts.css/dist/charts.min.css">
        <style>
            table, tr, td, th {
                height: 100%;
                vertical-align: center;   
            }
            #myChart {
              width: 100%;
              max-width: 300px;
              margin: auto;
              display: flex;
              flex-direction: row;
            }
        </style>
    </head>
    <body>
      
        <div id="myChart">
          <table class="charts-css column show-data-on-hover">

            <caption> Table </caption>
          
            <tbody>
              {%for contract in data%}
                <tr>
                  <td style="--size: calc( {{contract.INVS | length}} / {{data | map(attribute="INVS") | sum(start=[]) | list | length}} )"> <span class="data"> {{contract.INVS | length}} </span></td>
                </tr>
              {%endfor%}
            </tbody>
          
          </table>
        </div>
    </body>
</html>